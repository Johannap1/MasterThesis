Meeting Dennis

16.08.2022
----------------------------------------

- Experiment Design for learning windfields and training GP
1) Generate several different paths: Circle, Eight, Lemniscate, Random path generator: Matlab script for x, y, psi
   Discussion: Any other ideas here?
   Problem: With stronger winds simulation quickly runs infeasible, perhaps new lmpcc will fix it - tuning
	    LMPCC still isn't working:
            <rosparam file="$(find costmap_2d)/launch/hovergames_params.yaml" command="load" ns="costmap"/>
2) Generate several different wind fields: Constant wind (in multiple directions), "passing a fan"-scenario , random wind field, "passing a tree"-scenario, option to add Gaussian noise
   2.1) (Add wind gusts to constant wind field: Gazebo plugin already features it, there is a python library to add it in simplesim)
   Discussion: Generating "realistic" wind fields is problematic
   2.2) For constant wind add simple force to pyhton script BUT I want the same wind fields for simple_sim and Gazebo 
   2.3) Wrote Python script to generate those wind fields, for now constant and fan 
   2.4) Working on reading those scripts in with gazebo wind plugin (rotorS) and simple_sim 
   2.5) So far got PX4 simple windy world to work (maybe demonstrate) but want to publish wind as a ROS topic for debugging
   2.6) Started writing script that reads in wind field in python but work in progress, waiting on gazebo results (interp3)
3) Gaussian process
   Modified lmpcc to publish current and predicted system state 
   Derived disturbance from difference in velocities 
   Process ROS messages in matlab to create .csv
   Use .csv together with GPyTorch to train basic GP
   Proof of concept, but still a lot of "fishy" things such as high uncertainty etc., so first get experiment design straight and then go back to details of training and maybe contact Giovanni
4) What about MPCC on real drone?
   Could already gather some disturbance data, add winds etc. 
5) Thesis title

Planning
------------------------------------------------

- Get LMPCC working again
- Get ETH wind plugin to work for model_sim and Gazebo 
- Generate some useful experiments + wind to train GP 
- At the same time gather some data in lab
- Use gathered data for GP training - apply GP theory to find best training settings - ask Giovanni
- Extend the drone model with GP model

21.08.2022
-------------------------------------------

- LMPCC is working - flying lemniscates, etc. recoding prediction values
- Model sim now has ETH wind plugin working, some mix-up with x and y dir but should be easily fixable 
- Added Gaussian noise as well - wind gusts for later
- ETH wind plugin now also working for Gazebo (yayyy) but waiting for LMPCC to be working in Gazebo (is that the plan?) 
- Added Identifiaction results to the reop - mpc-id-lqr --merge at some point 

Planning 
--------------------------------------------

- Get fan scenario to work
- When simulation is working start gathering some experiment data and see how to train Gaussian process
- Get tuning correct for LMPCC (any insights on that?) - Ref velocity very low atm 
- Read into the pyhton libraries available - plan for the next 2 weeks approx. - get help if necessary 

NEXT 

- LMPCC sampling time much higher than the set one, therefore prediction does not add up when getting T_s from data

